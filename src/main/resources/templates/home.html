<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.w3.org/1999/xhtml">
<head>
    <title>–ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css">
    <style>
        .post-preview {
            margin-bottom: 1.5rem;
            padding-bottom: 1.5rem;
            border-bottom: 1px solid #eee;
        }
        .post-preview:last-child {
            border-bottom: none;
            margin-bottom: 0;
            padding-bottom: 0;
        }
        .post-preview h2 {
            font-size: 1.5rem;
            margin-bottom: 0.5rem;
        }
        .post-preview .post-meta {
            font-size: 0.9rem;
            color: #6c757d; /* Muted text color */
        }
        .post-preview .post-snippet {
            margin-top: 0.5rem;
        }
    </style>
</head>
<body>

<header th:insert="~{blocks/header :: header}"></header>

<main class="container mt-5">
    <div class="p-4 mb-4 bg-light rounded-3">
        <div class="container-fluid py-5">
            <h1 class="display-5 fw-bold">–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –Ω–∞ –Ω–∞—à –ë–ª–æ–≥ & –§–æ—Ä—É–º!</h1>
            <p class="col-md-8 fs-4">–ó–¥–µ—Å—å –≤—ã –Ω–∞–π–¥–µ—Ç–µ –∏–Ω—Ç–µ—Ä–µ—Å–Ω—ã–µ —Å—Ç–∞—Ç—å–∏, –Ω–æ–≤–æ—Å—Ç–∏ –∏ —Å–º–æ–∂–µ—Ç–µ –æ–±—Å—É–¥–∏—Ç—å –≤–∞–∂–Ω—ã–µ —Ç–µ–º—ã —Å –¥—Ä—É–≥–∏–º–∏ —É—á–∞—Å—Ç–Ω–∏–∫–∞–º–∏.</p>

            <div sec:authorize="hasRole('USER')" class="alert alert-success">
                üë§ –ü—Ä–∏–≤–µ—Ç, <span sec:authentication="name"></span>! –†–∞–¥—ã –≤–∞—Å –≤–∏–¥–µ—Ç—å —Å–Ω–æ–≤–∞.
            </div>
            <div sec:authorize="hasRole('ADMIN')" class="alert alert-warning">
                üëë –î–û–ë–†–û –ü–û–ñ–ê–õ–û–í–ê–¢–¨, –í–ï–õ–ò–ö–ò–ô –ê–î–ú–ò–ù <span sec:authentication="name"></span>! –í—ã –∑–¥–µ—Å—å, —á—Ç–æ–±—ã —É–ø—Ä–∞–≤–ª—è—Ç—å –∫–æ–Ω—Ç–µ–Ω—Ç–æ–º.
            </div>
            <div sec:authorize="hasRole('GUEST')" class="alert alert-info">
                üëã –í—ã –≤–æ—à–ª–∏ –∫–∞–∫ –≥–æ—Å—Ç—å. <a th:href="@{/register}">–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å</a>, —á—Ç–æ–±—ã –ø–æ–ª—É—á–∏—Ç—å –±–æ–ª—å—à–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π!
            </div>
            <div sec:authorize="isAnonymous()" class="alert alert-secondary">
                üîí –í—ã –Ω–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω—ã. <a th:href="@{/login}">–í–æ–π–¥–∏—Ç–µ</a> –∏–ª–∏ <a th:href="@{/register}">–∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å</a>, —á—Ç–æ–±—ã –ø—Ä–∏—Å–æ–µ–¥–∏–Ω–∏—Ç—å—Å—è –∫ –æ–±—Å—É–∂–¥–µ–Ω–∏—è–º.
            </div>

            <div sec:authorize !="hasRole('GUEST')">
                <a th:href="@{/blog/add}" class="btn btn-primary btn-lg mt-3">–°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π –ø–æ—Å—Ç</a>
            </div>
        </div>
    </div>

    <div class="row mb-2">
        <div class="col-md-12">
            <h2 class="mb-3">–ü–æ—Å–ª–µ–¥–Ω–∏–µ –∑–∞–ø–∏—Å–∏ –≤ –±–ª–æ–≥–µ</h2>

            <!-- –ü—Ä–æ–≤–µ—Ä—è–µ–º, –µ—Å—Ç—å –ª–∏ –ø–æ—Å—Ç—ã –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è -->
            <div th:if="${recentPosts != null and !recentPosts.isEmpty()}">
                <!-- –¶–∏–∫–ª –ø–æ –ø–æ—Å–ª–µ–¥–Ω–∏–º –ø–æ—Å—Ç–∞–º (–ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è 'recentPosts' –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –ø–µ—Ä–µ–¥–∞–Ω–∞ –∏–∑ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–∞) -->
                <div th:each="post : ${recentPosts}" class="post-preview">
                    <h2>
                        <!-- –°—Å—ã–ª–∫–∞ –Ω–∞ –ø–æ–ª–Ω—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É –ø–æ—Å—Ç–∞ -->
                        <a th:href="@{/blog/{id}(id=${post.id})}" th:text="${post.title}">–ù–∞–∑–≤–∞–Ω–∏–µ –ø–æ—Å—Ç–∞</a>
                    </h2>
                    <!-- –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ–± –∞–≤—Ç–æ—Ä–µ –∏ –¥–∞—Ç–µ (–µ—Å–ª–∏ –µ—Å—Ç—å –ø–æ–ª—è user –∏ date –≤ —Å—É—â–Ω–æ—Å—Ç–∏ Post) -->
                    <!-- –î–æ–±–∞–≤–∏–º –ø—Ä–æ–≤–µ—Ä–∫—É comment.user != null –¥–ª—è —É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç–∏ -->
                    <p class="post-meta">
                        –û–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–æ
                        <span th:if="${post.user != null}" th:text="${post.user.username}">–ò–º—è –ê–≤—Ç–æ—Ä–∞</span>
                        <span th:if="${post.user == null}">–ù–µ–∏–∑–≤–µ—Å—Ç–Ω—ã–π –∞–≤—Ç–æ—Ä</span>
                        <!-- –î–æ–±–∞–≤—å—Ç–µ –ø–æ–ª–µ date –≤ —Å—É—â–Ω–æ—Å—Ç—å Post –∏ –ø–µ—Ä–µ–¥–∞–π—Ç–µ –µ–≥–æ, –µ—Å–ª–∏ –Ω—É–∂–Ω–æ –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å –¥–∞—Ç—É -->
                        <!--<span th:text="${post.date}">–î–∞—Ç–∞</span>-->
                        | –ü—Ä–æ—Å–º–æ—Ç—Ä—ã: <span th:text="${post.viewCount}">0</span>
                    </p>
                    <!-- –ê–Ω–æ–Ω—Å –∏–ª–∏ –∫—Ä–∞—Ç–∫–æ–µ —Å–æ–¥–µ—Ä–∂–∞–Ω–∏–µ –ø–æ—Å—Ç–∞ -->
                    <div th:text="${post.anons}" class="post-snippet">–ö—Ä–∞—Ç–∫–æ–µ —Å–æ–¥–µ—Ä–∂–∞–Ω–∏–µ –ø–æ—Å—Ç–∞...</div>
                </div>
            </div>

            <!-- –°–æ–æ–±—â–µ–Ω–∏–µ, –µ—Å–ª–∏ –Ω–µ—Ç –ø–æ—Å–ª–µ–¥–Ω–∏—Ö –ø–æ—Å—Ç–æ–≤ -->
            <div th:if="${recentPosts == null or recentPosts.isEmpty()}">
                <p>–ü–æ–∫–∞ –Ω–µ—Ç –ø–æ—Å–ª–µ–¥–Ω–∏—Ö –∑–∞–ø–∏—Å–µ–π –≤ –±–ª–æ–≥–µ. –ë—É–¥—å—Ç–µ –ø–µ—Ä–≤—ã–º, –∫—Ç–æ <a th:href="@{/blog/add}" sec:authorize="isAuthenticated()">—Å–æ–∑–¥–∞—Å—Ç</a> –∏–ª–∏ <a th:href="@{/blog}">–ø–æ—á–∏—Ç–∞–µ—Ç</a> —Å—Ç–∞—Ä—ã–µ!</p>
            </div>

            <hr class="my-4">

            <!-- –°—Å—ã–ª–∫–∞ –Ω–∞ –≤—Å–µ –ø–æ—Å—Ç—ã -->
            <p><a th:href="@{/blog}" class="btn btn-outline-primary">–ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –≤—Å–µ –ø–æ—Å—Ç—ã</a></p>

        </div>
    </div>
</main>

<footer th:insert="~{blocks/footer :: footer}"></footer>

<!-- Optional: Bootstrap Bundle JS for components like modals, toasts, etc. -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

</body>
</html>